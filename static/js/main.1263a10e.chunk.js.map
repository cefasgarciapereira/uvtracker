{"version":3,"sources":["App.js","index.js"],"names":["App","props","state","bg","dayAbbreviation","day","UV","uvIndex","safeExposureTime","UVIndex","bind","exposureTime","today","Date","time","getHours","getDay","this","setState","axios","method","url","headers","then","response","console","log","data","result","uv","safe_exposure_time","st1","catch","e","value","minutes","Math","floor","className","style","background","React","Component","ReactDOM","render","document","getElementById"],"mappings":"gUA2IeA,G,kBAtIb,WAAYC,GAAO,IAAD,8BAChB,4CAAMA,KACDC,MAAQ,CACXC,GAAI,CAAC,GAAG,IACRC,gBAAiB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC5DC,IAAK,EACLC,GAAI,EACJC,QAAQ,CAAC,MAAO,WAAY,OAAQ,YAAY,WAChDC,iBAAkB,MAEpB,EAAKC,QAAU,EAAKA,QAAQC,KAAb,gBACf,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBAXJ,E,yFAehB,IAAIE,EAAQ,IAAIC,KACZC,EAAOF,EAAMG,WACbV,EAAMO,EAAMI,SACZb,EAAK,GAENW,GAAQ,IAAMA,GAAQ,KACtBX,EAAG,GAAK,UACRA,EAAG,GAAK,YAGPW,EAAO,IAAMA,EAAO,IAAQA,EAAO,GAAKA,EAAO,MACjDX,EAAG,GAAK,UACRA,EAAG,GAAK,YAGNW,GAAQ,IAAQA,GAAQ,GAAKA,EAAO,KACtCX,EAAG,GAAK,UACRA,EAAG,GAAK,WAEVc,KAAKC,SAAS,CACZf,GAAIA,EACJE,IAAKA,M,+KAMDc,IAAM,CACVC,OAAQ,MACRC,IAAK,gEACLC,QAAS,CACP,iBAAkB,sCAGnBC,MAAK,SAAAC,GAEJC,QAAQC,IAAI,yBACZ,EAAKR,SAAS,CACZZ,GAAIkB,EAASG,KAAKC,OAAOC,GACzBrB,iBAAkBgB,EAASG,KAAKC,OAAOE,mBAAmBC,SAG7DC,OAAM,SAAAC,GAELd,IAAM,CACJC,OAAQ,MACRC,IAAK,qHAEJE,MAAK,SAAAC,GAEJC,QAAQC,IAAI,8BACZ,EAAKR,SAAS,CACZZ,GAAIkB,EAASG,KAAKO,WAGrBF,OAAM,SAAAC,GACLR,QAAQC,IAAIO,S,iIAMpB,OAAGhB,KAAKf,MAAMI,GAAK,EACVW,KAAKf,MAAMK,QAAQ,GAGzBU,KAAKf,MAAMI,GAAK,EACVW,KAAKf,MAAMK,QAAQ,GAGzBU,KAAKf,MAAMI,GAAK,EACVW,KAAKf,MAAMK,QAAQ,GAGzBU,KAAKf,MAAMI,GAAK,GACVW,KAAKf,MAAMK,QAAQ,GAGzBU,KAAKf,MAAMI,IAAM,GACXW,KAAKf,MAAMK,QAAQ,QAD5B,I,qCAMA,IAAM4B,EAAUlB,KAAKf,MAAMM,iBAE5B,OAAe,OAAZ2B,EACM,GAEJA,EAAU,EACL,+BAEM,IAAZA,EACM,iCAAiCA,EAAQ,WAE/CA,GAAW,IACL,2CAA2CC,KAAKC,MAAMF,EAAQ,IAAI,UAGxEA,EAAU,EACJ,iCAAiCA,EAAQ,iBADlD,I,+BAKA,OACE,yBAAKG,UAAU,MAAMC,MAAO,CAACC,WAAY,mCAAmCvB,KAAKf,MAAMC,GAAG,GAAG,IAAIc,KAAKf,MAAMC,GAAG,GAAG,MAChH,yBAAKmC,UAAU,gBACb,yBAAKA,UAAU,QACb,4BAAKrB,KAAKf,MAAME,gBAAgBa,KAAKf,MAAMG,IAAM,IACjD,4BAAK+B,KAAKC,MAAMpB,KAAKf,MAAMI,IAA3B,OACA,8BAAOW,KAAKR,WACZ,0BAAM6B,UAAU,YAAYrB,KAAKN,uB,GA/H3B8B,IAAMC,YCCxBC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.1263a10e.chunk.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport './assets/css/App.css';\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      bg: ['',''],\n      dayAbbreviation: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n      day: 0,\n      UV: 0,\n      uvIndex:['Low', 'Moderate', 'High', 'Very High','Extreme'],\n      safeExposureTime: null\n    }\n    this.UVIndex = this.UVIndex.bind(this);\n    this.exposureTime = this.exposureTime.bind(this);\n  }\n\n  UNSAFE_componentWillMount(){\n    let today = new Date();\n    let time = today.getHours();\n    let day = today.getDay();\n    let bg = []\n    \n    if(time >= 10 && time <= 15){\n       bg[0] = '#FF512F';\n       bg[1] = '#F09819';\n    }\n\n    if((time > 15 && time < 19) || (time > 4 && time < 10)){\n      bg[0] = '#e96443';\n      bg[1] = '#904e95';\n    }\n\n    if((time >= 19) || (time >= 0 && time < 4)){\n      bg[0] = '#232526';\n      bg[1] = '#414345';\n    }\n    this.setState({\n      bg: bg,\n      day: day\n    })\n  }\n\n  async componentDidMount(){\n   \n    await axios({\n      method: 'get',\n      url: 'https://api.openuv.io/api/v1/uv?lat=-21.788857&lng=-46.561738',\n      headers: {\n        'x-access-token': 'd4e3f115fe835eceb4bd093a40f6dd52'\n      }\n    })\n      .then(response => {\n        //console.log(response)\n        console.log('Call made from OpenUV');\n        this.setState({\n          UV: response.data.result.uv,\n          safeExposureTime: response.data.result.safe_exposure_time.st1\n        })\n      })\n      .catch(e => {\n        //console.log(e)\n        axios({\n          method: 'get',\n          url: 'https://api.openweathermap.org/data/2.5/uvi?appid=6bcd0eba4e6df52cd7f4063ec2be86ae&lat=-21.788857&lon=-46.561738',\n        })\n          .then(response => {\n            //console.log(response)\n            console.log('Call made from OpenWeather');\n            this.setState({\n              UV: response.data.value,\n            })\n          })\n          .catch(e => {\n            console.log(e)\n          })\n      })\n  }\n\n  UVIndex(){\n    if(this.state.UV < 3){\n      return this.state.uvIndex[0]\n    }\n\n    if(this.state.UV < 6){\n      return this.state.uvIndex[1]\n    }\n\n    if(this.state.UV < 8){\n      return this.state.uvIndex[2]\n    }\n\n    if(this.state.UV < 11){\n      return this.state.uvIndex[3]\n    }\n\n    if(this.state.UV >= 11){\n      return this.state.uvIndex[4]\n    }\n  }\n\n  exposureTime(){\n    const minutes = this.state.safeExposureTime;\n\n   if(minutes === null)\n     return \"\";\n\n     if(minutes < 1)\n      return \"You can't be safely exposed.\";\n  \n    if(minutes === 1)\n      return \"You can be safely exposed for \"+minutes+\" minute.\";\n    \n    if(minutes >= 120){\n      return \"You can be safely exposed for more than \"+Math.floor(minutes/60)+\" hours.\";\n    }\n\n    if(minutes > 1)\n      return \"You can be safely exposed for \"+minutes+\" minutes.\";\n  }\n\n  render (){\n    return (\n      <div className=\"App\" style={{background: 'linear-gradient(to right bottom,'+this.state.bg[0]+','+this.state.bg[1]+')'}}>\n        <div className=\"data-wrapper\">\n          <div className=\"data\">\n            <h3>{this.state.dayAbbreviation[this.state.day - 1]}</h3>\n            <h2>{Math.floor(this.state.UV)} UV</h2>\n            <span>{this.UVIndex()}</span>\n            <span className=\"exposure\">{this.exposureTime()}</span> \n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/css/index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}